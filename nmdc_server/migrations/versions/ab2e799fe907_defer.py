"""empty message

Revision ID: ab2e799fe907
Revises: 1d0cfa3cb7b5
Create Date: 2023-01-02 19:10:35.972511

"""
from typing import Optional

import sqlalchemy as sa
from alembic import op

# revision identifiers, used by Alembic.
revision: str = "ab2e799fe907"
down_revision: Optional[str] = "1d0cfa3cb7b5"
branch_labels: Optional[str] = None
depends_on: Optional[str] = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint("fk_biosample_env_local_scale_id_envo_term", "biosample", type_="foreignkey")
    op.drop_constraint("fk_biosample_env_medium_id_envo_term", "biosample", type_="foreignkey")
    op.drop_constraint("fk_biosample_env_broad_scale_id_envo_term", "biosample", type_="foreignkey")
    op.drop_constraint("fk_biosample_study_id_study", "biosample", type_="foreignkey")
    op.create_foreign_key(
        op.f("fk_biosample_env_medium_id_envo_term"),
        "biosample",
        "envo_term",
        ["env_medium_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_biosample_study_id_study"),
        "biosample",
        "study",
        ["study_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_biosample_env_broad_scale_id_envo_term"),
        "biosample",
        "envo_term",
        ["env_broad_scale_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_biosample_env_local_scale_id_envo_term"),
        "biosample",
        "envo_term",
        ["env_local_scale_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_bulk_download_data_object_data_object_id_data_object",
        "bulk_download_data_object",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_bulk_download_data_object_bulk_download_id_bulk_download",
        "bulk_download_data_object",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_bulk_download_data_object_bulk_download_id_bulk_download"),
        "bulk_download_data_object",
        "bulk_download",
        ["bulk_download_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_bulk_download_data_object_data_object_id_data_object"),
        "bulk_download_data_object",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_data_object_omics_processing_id_omics_processing", "data_object", type_="foreignkey"
    )
    op.create_foreign_key(
        op.f("fk_data_object_omics_processing_id_omics_processing"),
        "data_object",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_unique_constraint(op.f("uq_envo_ancestor_id"), "envo_ancestor", ["id", "ancestor_id"])
    op.drop_constraint("fk_envo_ancestor_id_envo_term", "envo_ancestor", type_="foreignkey")
    op.drop_constraint(
        "fk_envo_ancestor_ancestor_id_envo_term", "envo_ancestor", type_="foreignkey"
    )
    op.create_foreign_key(
        op.f("fk_envo_ancestor_id_envo_term"),
        "envo_ancestor",
        "envo_term",
        ["id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_envo_ancestor_ancestor_id_envo_term"),
        "envo_ancestor",
        "envo_term",
        ["ancestor_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_file_download_data_object_id_data_object", "file_download", type_="foreignkey"
    )
    op.create_foreign_key(
        op.f("fk_file_download_data_object_id_data_object"),
        "file_download",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint("fk_mag_mags_analysis_id_mags_analysis", "mag", type_="foreignkey")
    op.create_foreign_key(
        op.f("fk_mag_mags_analysis_id_mags_analysis"),
        "mag",
        "mags_analysis",
        ["mags_analysis_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_mags_analysis_omics_processing_id_omics_processing", "mags_analysis", type_="foreignkey"
    )
    op.create_foreign_key(
        op.f("fk_mags_analysis_omics_processing_id_omics_processing"),
        "mags_analysis",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_mags_analysis_input_association_mags_analysis_id_mag_7892",
        "mags_analysis_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_mags_analysis_input_association_data_object_id_data_object",
        "mags_analysis_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_mags_analysis_input_association_data_object_id_data_object"),
        "mags_analysis_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_mags_analysis_input_association_mags_analysis_id_mags_analysis"),
        "mags_analysis_input_association",
        "mags_analysis",
        ["mags_analysis_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_mags_analysis_output_association_mags_analysis_id_ma_f8cb",
        "mags_analysis_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_mags_analysis_output_association_data_object_id_data_object",
        "mags_analysis_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_mags_analysis_output_association_data_object_id_data_object"),
        "mags_analysis_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_mags_analysis_output_association_mags_analysis_id_mags_analysis"),
        "mags_analysis_output_association",
        "mags_analysis",
        ["mags_analysis_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metabolomics_analysis_omics_processing_id_omics_processing",
        "metabolomics_analysis",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_metabolomics_analysis_omics_processing_id_omics_processing"),
        "metabolomics_analysis",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metabolomics_analysis_input_association_data_object__b36a",
        "metabolomics_analysis_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_metabolomics_analysis_input_association_metabolomics_bdf3",
        "metabolomics_analysis_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_metabolomics_analysis_input_association_data_object_id_data_object"),
        "metabolomics_analysis_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f(
            "fk_metabolomics_analysis_input_association_metabolomics_analysis_id_metabolomics_analysis"
        ),
        "metabolomics_analysis_input_association",
        "metabolomics_analysis",
        ["metabolomics_analysis_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metabolomics_analysis_output_association_data_object_a03e",
        "metabolomics_analysis_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_metabolomics_analysis_output_association_metabolomic_a476",
        "metabolomics_analysis_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f(
            "fk_metabolomics_analysis_output_association_metabolomics_analysis_id_metabolomics_analysis"
        ),
        "metabolomics_analysis_output_association",
        "metabolomics_analysis",
        ["metabolomics_analysis_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_metabolomics_analysis_output_association_data_object_id_data_object"),
        "metabolomics_analysis_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metagenome_annotation_omics_processing_id_omics_processing",
        "metagenome_annotation",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_metagenome_annotation_omics_processing_id_omics_processing"),
        "metagenome_annotation",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metagenome_annotation_input_association_data_object__3b88",
        "metagenome_annotation_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_metagenome_annotation_input_association_metagenome_a_a168",
        "metagenome_annotation_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_metagenome_annotation_input_association_data_object_id_data_object"),
        "metagenome_annotation_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f(
            "fk_metagenome_annotation_input_association_metagenome_annotation_id_metagenome_annotation"
        ),
        "metagenome_annotation_input_association",
        "metagenome_annotation",
        ["metagenome_annotation_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metagenome_annotation_output_association_data_object_6294",
        "metagenome_annotation_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_metagenome_annotation_output_association_metagenome__9916",
        "metagenome_annotation_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f(
            "fk_metagenome_annotation_output_association_metagenome_annotation_id_metagenome_annotation"
        ),
        "metagenome_annotation_output_association",
        "metagenome_annotation",
        ["metagenome_annotation_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_metagenome_annotation_output_association_data_object_id_data_object"),
        "metagenome_annotation_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metagenome_assembly_omics_processing_id_omics_processing",
        "metagenome_assembly",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_metagenome_assembly_omics_processing_id_omics_processing"),
        "metagenome_assembly",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metagenome_assembly_input_association_metagenome_ass_82ac",
        "metagenome_assembly_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_metagenome_assembly_input_association_data_object_id_3f50",
        "metagenome_assembly_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_metagenome_assembly_input_association_metagenome_assembly_id_metagenome_assembly"),
        "metagenome_assembly_input_association",
        "metagenome_assembly",
        ["metagenome_assembly_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_metagenome_assembly_input_association_data_object_id_data_object"),
        "metagenome_assembly_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metagenome_assembly_output_association_data_object_i_09e7",
        "metagenome_assembly_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_metagenome_assembly_output_association_metagenome_as_044c",
        "metagenome_assembly_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f(
            "fk_metagenome_assembly_output_association_metagenome_assembly_id_metagenome_assembly"
        ),
        "metagenome_assembly_output_association",
        "metagenome_assembly",
        ["metagenome_assembly_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_metagenome_assembly_output_association_data_object_id_data_object"),
        "metagenome_assembly_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metap_gene_function_aggregation_metaproteomic_analys_b7f9",
        "metap_gene_function_aggregation",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_metap_gene_function_aggregation_gene_function_id_gen_6a2b",
        "metap_gene_function_aggregation",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_metap_gene_function_aggregation_metaproteomic_analysis_id_metaproteomic_analysis"),
        "metap_gene_function_aggregation",
        "metaproteomic_analysis",
        ["metaproteomic_analysis_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_metap_gene_function_aggregation_gene_function_id_gene_function"),
        "metap_gene_function_aggregation",
        "gene_function",
        ["gene_function_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metaproteomic_analysis_omics_processing_id_omics_processing",
        "metaproteomic_analysis",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_metaproteomic_analysis_omics_processing_id_omics_processing"),
        "metaproteomic_analysis",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metaproteomic_analysis_input_association_data_object_180b",
        "metaproteomic_analysis_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_metaproteomic_analysis_input_association_metaproteom_159f",
        "metaproteomic_analysis_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_metaproteomic_analysis_input_association_data_object_id_data_object"),
        "metaproteomic_analysis_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f(
            "fk_metaproteomic_analysis_input_association_metaproteomic_analysis_id_metaproteomic_analysis"
        ),
        "metaproteomic_analysis_input_association",
        "metaproteomic_analysis",
        ["metaproteomic_analysis_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metaproteomic_analysis_output_association_metaproteo_58ea",
        "metaproteomic_analysis_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_metaproteomic_analysis_output_association_data_objec_d72f",
        "metaproteomic_analysis_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_metaproteomic_analysis_output_association_data_object_id_data_object"),
        "metaproteomic_analysis_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f(
            "fk_metaproteomic_analysis_output_association_metaproteomic_analysis_id_metaproteomic_analysis"
        ),
        "metaproteomic_analysis_output_association",
        "metaproteomic_analysis",
        ["metaproteomic_analysis_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metaproteomic_peptide_best_protein_mga_gene_function",
        "metaproteomic_peptide",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_metaproteomic_peptide_metaproteomic_analysis_id_meta_0290",
        "metaproteomic_peptide",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_metaproteomic_peptide_metaproteomic_analysis_id_metaproteomic_analysis"),
        "metaproteomic_peptide",
        "metaproteomic_analysis",
        ["metaproteomic_analysis_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_metaproteomic_peptide_best_protein_mga_gene_function"),
        "metaproteomic_peptide",
        "mga_gene_function",
        ["best_protein"],
        ["subject"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metatranscriptome_omics_processing_id_omics_processing",
        "metatranscriptome",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_metatranscriptome_omics_processing_id_omics_processing"),
        "metatranscriptome",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metatranscriptome_input_association_metatranscriptom_aff5",
        "metatranscriptome_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_metatranscriptome_input_association_data_object_id_d_6de8",
        "metatranscriptome_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_metatranscriptome_input_association_data_object_id_data_object"),
        "metatranscriptome_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_metatranscriptome_input_association_metatranscriptome_id_metatranscriptome"),
        "metatranscriptome_input_association",
        "metatranscriptome",
        ["metatranscriptome_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_metatranscriptome_output_association_data_object_id__5d7f",
        "metatranscriptome_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_metatranscriptome_output_association_metatranscripto_f727",
        "metatranscriptome_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_metatranscriptome_output_association_data_object_id_data_object"),
        "metatranscriptome_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_metatranscriptome_output_association_metatranscriptome_id_metatranscriptome"),
        "metatranscriptome_output_association",
        "metatranscriptome",
        ["metatranscriptome_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_mga_gene_function_metagenome_annotation_id_metagenom_d51d",
        "mga_gene_function",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_mga_gene_function_gene_function_id_gene_function",
        "mga_gene_function",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_mga_gene_function_metagenome_annotation_id_metagenome_annotation"),
        "mga_gene_function",
        "metagenome_annotation",
        ["metagenome_annotation_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_mga_gene_function_gene_function_id_gene_function"),
        "mga_gene_function",
        "gene_function",
        ["gene_function_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_mga_gene_function_aggregation_metagenome_annotation__9404",
        "mga_gene_function_aggregation",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_mga_gene_function_aggregation_gene_function_id_gene_function",
        "mga_gene_function_aggregation",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_mga_gene_function_aggregation_gene_function_id_gene_function"),
        "mga_gene_function_aggregation",
        "gene_function",
        ["gene_function_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_mga_gene_function_aggregation_metagenome_annotation_id_metagenome_annotation"),
        "mga_gene_function_aggregation",
        "metagenome_annotation",
        ["metagenome_annotation_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_nom_analysis_omics_processing_id_omics_processing", "nom_analysis", type_="foreignkey"
    )
    op.create_foreign_key(
        op.f("fk_nom_analysis_omics_processing_id_omics_processing"),
        "nom_analysis",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_nom_analysis_input_association_nom_analysis_id_nom_analysis",
        "nom_analysis_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_nom_analysis_input_association_data_object_id_data_object",
        "nom_analysis_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_nom_analysis_input_association_data_object_id_data_object"),
        "nom_analysis_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_nom_analysis_input_association_nom_analysis_id_nom_analysis"),
        "nom_analysis_input_association",
        "nom_analysis",
        ["nom_analysis_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_nom_analysis_output_association_data_object_id_data_object",
        "nom_analysis_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_nom_analysis_output_association_nom_analysis_id_nom_analysis",
        "nom_analysis_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_nom_analysis_output_association_data_object_id_data_object"),
        "nom_analysis_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_nom_analysis_output_association_nom_analysis_id_nom_analysis"),
        "nom_analysis_output_association",
        "nom_analysis",
        ["nom_analysis_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_omics_processing_biosample_id_biosample", "omics_processing", type_="foreignkey"
    )
    op.drop_constraint("fk_omics_processing_study_id_study", "omics_processing", type_="foreignkey")
    op.create_foreign_key(
        op.f("fk_omics_processing_study_id_study"),
        "omics_processing",
        "study",
        ["study_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_omics_processing_biosample_id_biosample"),
        "omics_processing",
        "biosample",
        ["biosample_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_omics_processing_output_association_omics_processing_6024",
        "omics_processing_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_omics_processing_output_association_data_object_id_d_6b55",
        "omics_processing_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_omics_processing_output_association_omics_processing_id_omics_processing"),
        "omics_processing_output_association",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_omics_processing_output_association_data_object_id_data_object"),
        "omics_processing_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_peptide_mga_gene_function_subject_mga_gene_function",
        "peptide_mga_gene_function",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_peptide_mga_gene_function_metaproteomic_peptide_id_m_bb30",
        "peptide_mga_gene_function",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_peptide_mga_gene_function_subject_mga_gene_function"),
        "peptide_mga_gene_function",
        "mga_gene_function",
        ["subject"],
        ["subject"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_peptide_mga_gene_function_metaproteomic_peptide_id_metaproteomic_peptide"),
        "peptide_mga_gene_function",
        "metaproteomic_peptide",
        ["metaproteomic_peptide_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint("fk_publication_doi_doi_info", "publication", type_="foreignkey")
    op.create_foreign_key(
        op.f("fk_publication_doi_doi_info"),
        "publication",
        "doi_info",
        ["doi"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_read_based_analysis_omics_processing_id_omics_processing",
        "read_based_analysis",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_read_based_analysis_omics_processing_id_omics_processing"),
        "read_based_analysis",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_read_based_analysis_input_association_data_object_id_7b13",
        "read_based_analysis_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_read_based_analysis_input_association_read_based_ana_be7b",
        "read_based_analysis_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_read_based_analysis_input_association_data_object_id_data_object"),
        "read_based_analysis_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_read_based_analysis_input_association_read_based_analysis_id_read_based_analysis"),
        "read_based_analysis_input_association",
        "read_based_analysis",
        ["read_based_analysis_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_read_based_analysis_output_association_data_object_i_7dd3",
        "read_based_analysis_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_read_based_analysis_output_association_read_based_an_dea0",
        "read_based_analysis_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_read_based_analysis_output_association_data_object_id_data_object"),
        "read_based_analysis_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f(
            "fk_read_based_analysis_output_association_read_based_analysis_id_read_based_analysis"
        ),
        "read_based_analysis_output_association",
        "read_based_analysis",
        ["read_based_analysis_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_reads_qc_omics_processing_id_omics_processing", "reads_qc", type_="foreignkey"
    )
    op.create_foreign_key(
        op.f("fk_reads_qc_omics_processing_id_omics_processing"),
        "reads_qc",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_reads_qc_input_association_reads_qc_id_reads_qc",
        "reads_qc_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_reads_qc_input_association_data_object_id_data_object",
        "reads_qc_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_reads_qc_input_association_data_object_id_data_object"),
        "reads_qc_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_reads_qc_input_association_reads_qc_id_reads_qc"),
        "reads_qc_input_association",
        "reads_qc",
        ["reads_qc_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_reads_qc_output_association_data_object_id_data_object",
        "reads_qc_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        "fk_reads_qc_output_association_reads_qc_id_reads_qc",
        "reads_qc_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        op.f("fk_reads_qc_output_association_data_object_id_data_object"),
        "reads_qc_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_reads_qc_output_association_reads_qc_id_reads_qc"),
        "reads_qc_output_association",
        "reads_qc",
        ["reads_qc_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_study_principal_investigator_id_principal_investigator", "study", type_="foreignkey"
    )
    op.drop_constraint("fk_study_doi_doi_info", "study", type_="foreignkey")
    op.create_foreign_key(
        op.f("fk_study_doi_doi_info"),
        "study",
        "doi_info",
        ["doi"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_study_principal_investigator_id_principal_investigator"),
        "study",
        "principal_investigator",
        ["principal_investigator_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_study_publication_publication_id_publication", "study_publication", type_="foreignkey"
    )
    op.drop_constraint(
        "fk_study_publication_study_id_study", "study_publication", type_="foreignkey"
    )
    op.create_foreign_key(
        op.f("fk_study_publication_study_id_study"),
        "study_publication",
        "study",
        ["study_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_study_publication_publication_id_publication"),
        "study_publication",
        "publication",
        ["publication_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint("fk_study_website_study_id_study", "study_website", type_="foreignkey")
    op.drop_constraint("fk_study_website_website_id_website", "study_website", type_="foreignkey")
    op.create_foreign_key(
        op.f("fk_study_website_website_id_website"),
        "study_website",
        "website",
        ["website_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.create_foreign_key(
        op.f("fk_study_website_study_id_study"),
        "study_website",
        "study",
        ["study_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    op.drop_constraint(
        "fk_submission_metadata_author_id_user_logins", "submission_metadata", type_="foreignkey"
    )
    op.create_foreign_key(
        op.f("fk_submission_metadata_author_id_user_logins"),
        "submission_metadata",
        "user_logins",
        ["author_id"],
        ["id"],
        initially="DEFERRED",
        deferrable=True,
    )
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint(
        op.f("fk_submission_metadata_author_id_user_logins"),
        "submission_metadata",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_submission_metadata_author_id_user_logins",
        "submission_metadata",
        "user_logins",
        ["author_id"],
        ["id"],
    )
    op.drop_constraint(op.f("fk_study_website_study_id_study"), "study_website", type_="foreignkey")
    op.drop_constraint(
        op.f("fk_study_website_website_id_website"), "study_website", type_="foreignkey"
    )
    op.create_foreign_key(
        "fk_study_website_website_id_website", "study_website", "website", ["website_id"], ["id"]
    )
    op.create_foreign_key(
        "fk_study_website_study_id_study", "study_website", "study", ["study_id"], ["id"]
    )
    op.drop_constraint(
        op.f("fk_study_publication_publication_id_publication"),
        "study_publication",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_study_publication_study_id_study"), "study_publication", type_="foreignkey"
    )
    op.create_foreign_key(
        "fk_study_publication_study_id_study", "study_publication", "study", ["study_id"], ["id"]
    )
    op.create_foreign_key(
        "fk_study_publication_publication_id_publication",
        "study_publication",
        "publication",
        ["publication_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_study_principal_investigator_id_principal_investigator"),
        "study",
        type_="foreignkey",
    )
    op.drop_constraint(op.f("fk_study_doi_doi_info"), "study", type_="foreignkey")
    op.create_foreign_key("fk_study_doi_doi_info", "study", "doi_info", ["doi"], ["id"])
    op.create_foreign_key(
        "fk_study_principal_investigator_id_principal_investigator",
        "study",
        "principal_investigator",
        ["principal_investigator_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_reads_qc_output_association_reads_qc_id_reads_qc"),
        "reads_qc_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_reads_qc_output_association_data_object_id_data_object"),
        "reads_qc_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_reads_qc_output_association_reads_qc_id_reads_qc",
        "reads_qc_output_association",
        "reads_qc",
        ["reads_qc_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_reads_qc_output_association_data_object_id_data_object",
        "reads_qc_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_reads_qc_input_association_reads_qc_id_reads_qc"),
        "reads_qc_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_reads_qc_input_association_data_object_id_data_object"),
        "reads_qc_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_reads_qc_input_association_data_object_id_data_object",
        "reads_qc_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_reads_qc_input_association_reads_qc_id_reads_qc",
        "reads_qc_input_association",
        "reads_qc",
        ["reads_qc_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_reads_qc_omics_processing_id_omics_processing"), "reads_qc", type_="foreignkey"
    )
    op.create_foreign_key(
        "fk_reads_qc_omics_processing_id_omics_processing",
        "reads_qc",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f(
            "fk_read_based_analysis_output_association_read_based_analysis_id_read_based_analysis"
        ),
        "read_based_analysis_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_read_based_analysis_output_association_data_object_id_data_object"),
        "read_based_analysis_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_read_based_analysis_output_association_read_based_an_dea0",
        "read_based_analysis_output_association",
        "read_based_analysis",
        ["read_based_analysis_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_read_based_analysis_output_association_data_object_i_7dd3",
        "read_based_analysis_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_read_based_analysis_input_association_read_based_analysis_id_read_based_analysis"),
        "read_based_analysis_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_read_based_analysis_input_association_data_object_id_data_object"),
        "read_based_analysis_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_read_based_analysis_input_association_read_based_ana_be7b",
        "read_based_analysis_input_association",
        "read_based_analysis",
        ["read_based_analysis_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_read_based_analysis_input_association_data_object_id_7b13",
        "read_based_analysis_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_read_based_analysis_omics_processing_id_omics_processing"),
        "read_based_analysis",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_read_based_analysis_omics_processing_id_omics_processing",
        "read_based_analysis",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
    )
    op.drop_constraint(op.f("fk_publication_doi_doi_info"), "publication", type_="foreignkey")
    op.create_foreign_key("fk_publication_doi_doi_info", "publication", "doi_info", ["doi"], ["id"])
    op.drop_constraint(
        op.f("fk_peptide_mga_gene_function_metaproteomic_peptide_id_metaproteomic_peptide"),
        "peptide_mga_gene_function",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_peptide_mga_gene_function_subject_mga_gene_function"),
        "peptide_mga_gene_function",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_peptide_mga_gene_function_metaproteomic_peptide_id_m_bb30",
        "peptide_mga_gene_function",
        "metaproteomic_peptide",
        ["metaproteomic_peptide_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_peptide_mga_gene_function_subject_mga_gene_function",
        "peptide_mga_gene_function",
        "mga_gene_function",
        ["subject"],
        ["subject"],
    )
    op.drop_constraint(
        op.f("fk_omics_processing_output_association_data_object_id_data_object"),
        "omics_processing_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_omics_processing_output_association_omics_processing_id_omics_processing"),
        "omics_processing_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_omics_processing_output_association_data_object_id_d_6b55",
        "omics_processing_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_omics_processing_output_association_omics_processing_6024",
        "omics_processing_output_association",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_omics_processing_biosample_id_biosample"), "omics_processing", type_="foreignkey"
    )
    op.drop_constraint(
        op.f("fk_omics_processing_study_id_study"), "omics_processing", type_="foreignkey"
    )
    op.create_foreign_key(
        "fk_omics_processing_study_id_study", "omics_processing", "study", ["study_id"], ["id"]
    )
    op.create_foreign_key(
        "fk_omics_processing_biosample_id_biosample",
        "omics_processing",
        "biosample",
        ["biosample_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_nom_analysis_output_association_nom_analysis_id_nom_analysis"),
        "nom_analysis_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_nom_analysis_output_association_data_object_id_data_object"),
        "nom_analysis_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_nom_analysis_output_association_nom_analysis_id_nom_analysis",
        "nom_analysis_output_association",
        "nom_analysis",
        ["nom_analysis_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_nom_analysis_output_association_data_object_id_data_object",
        "nom_analysis_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_nom_analysis_input_association_nom_analysis_id_nom_analysis"),
        "nom_analysis_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_nom_analysis_input_association_data_object_id_data_object"),
        "nom_analysis_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_nom_analysis_input_association_data_object_id_data_object",
        "nom_analysis_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_nom_analysis_input_association_nom_analysis_id_nom_analysis",
        "nom_analysis_input_association",
        "nom_analysis",
        ["nom_analysis_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_nom_analysis_omics_processing_id_omics_processing"),
        "nom_analysis",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_nom_analysis_omics_processing_id_omics_processing",
        "nom_analysis",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_mga_gene_function_aggregation_metagenome_annotation_id_metagenome_annotation"),
        "mga_gene_function_aggregation",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_mga_gene_function_aggregation_gene_function_id_gene_function"),
        "mga_gene_function_aggregation",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_mga_gene_function_aggregation_gene_function_id_gene_function",
        "mga_gene_function_aggregation",
        "gene_function",
        ["gene_function_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_mga_gene_function_aggregation_metagenome_annotation__9404",
        "mga_gene_function_aggregation",
        "metagenome_annotation",
        ["metagenome_annotation_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_mga_gene_function_gene_function_id_gene_function"),
        "mga_gene_function",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_mga_gene_function_metagenome_annotation_id_metagenome_annotation"),
        "mga_gene_function",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_mga_gene_function_gene_function_id_gene_function",
        "mga_gene_function",
        "gene_function",
        ["gene_function_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_mga_gene_function_metagenome_annotation_id_metagenom_d51d",
        "mga_gene_function",
        "metagenome_annotation",
        ["metagenome_annotation_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_metatranscriptome_output_association_metatranscriptome_id_metatranscriptome"),
        "metatranscriptome_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_metatranscriptome_output_association_data_object_id_data_object"),
        "metatranscriptome_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metatranscriptome_output_association_metatranscripto_f727",
        "metatranscriptome_output_association",
        "metatranscriptome",
        ["metatranscriptome_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_metatranscriptome_output_association_data_object_id__5d7f",
        "metatranscriptome_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_metatranscriptome_input_association_metatranscriptome_id_metatranscriptome"),
        "metatranscriptome_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_metatranscriptome_input_association_data_object_id_data_object"),
        "metatranscriptome_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metatranscriptome_input_association_data_object_id_d_6de8",
        "metatranscriptome_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_metatranscriptome_input_association_metatranscriptom_aff5",
        "metatranscriptome_input_association",
        "metatranscriptome",
        ["metatranscriptome_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_metatranscriptome_omics_processing_id_omics_processing"),
        "metatranscriptome",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metatranscriptome_omics_processing_id_omics_processing",
        "metatranscriptome",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_metaproteomic_peptide_best_protein_mga_gene_function"),
        "metaproteomic_peptide",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_metaproteomic_peptide_metaproteomic_analysis_id_metaproteomic_analysis"),
        "metaproteomic_peptide",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metaproteomic_peptide_metaproteomic_analysis_id_meta_0290",
        "metaproteomic_peptide",
        "metaproteomic_analysis",
        ["metaproteomic_analysis_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_metaproteomic_peptide_best_protein_mga_gene_function",
        "metaproteomic_peptide",
        "mga_gene_function",
        ["best_protein"],
        ["subject"],
    )
    op.drop_constraint(
        op.f(
            "fk_metaproteomic_analysis_output_association_metaproteomic_analysis_id_metaproteomic_analysis"
        ),
        "metaproteomic_analysis_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_metaproteomic_analysis_output_association_data_object_id_data_object"),
        "metaproteomic_analysis_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metaproteomic_analysis_output_association_data_objec_d72f",
        "metaproteomic_analysis_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_metaproteomic_analysis_output_association_metaproteo_58ea",
        "metaproteomic_analysis_output_association",
        "metaproteomic_analysis",
        ["metaproteomic_analysis_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f(
            "fk_metaproteomic_analysis_input_association_metaproteomic_analysis_id_metaproteomic_analysis"
        ),
        "metaproteomic_analysis_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_metaproteomic_analysis_input_association_data_object_id_data_object"),
        "metaproteomic_analysis_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metaproteomic_analysis_input_association_metaproteom_159f",
        "metaproteomic_analysis_input_association",
        "metaproteomic_analysis",
        ["metaproteomic_analysis_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_metaproteomic_analysis_input_association_data_object_180b",
        "metaproteomic_analysis_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_metaproteomic_analysis_omics_processing_id_omics_processing"),
        "metaproteomic_analysis",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metaproteomic_analysis_omics_processing_id_omics_processing",
        "metaproteomic_analysis",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_metap_gene_function_aggregation_gene_function_id_gene_function"),
        "metap_gene_function_aggregation",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_metap_gene_function_aggregation_metaproteomic_analysis_id_metaproteomic_analysis"),
        "metap_gene_function_aggregation",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metap_gene_function_aggregation_gene_function_id_gen_6a2b",
        "metap_gene_function_aggregation",
        "gene_function",
        ["gene_function_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_metap_gene_function_aggregation_metaproteomic_analys_b7f9",
        "metap_gene_function_aggregation",
        "metaproteomic_analysis",
        ["metaproteomic_analysis_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_metagenome_assembly_output_association_data_object_id_data_object"),
        "metagenome_assembly_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f(
            "fk_metagenome_assembly_output_association_metagenome_assembly_id_metagenome_assembly"
        ),
        "metagenome_assembly_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metagenome_assembly_output_association_metagenome_as_044c",
        "metagenome_assembly_output_association",
        "metagenome_assembly",
        ["metagenome_assembly_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_metagenome_assembly_output_association_data_object_i_09e7",
        "metagenome_assembly_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_metagenome_assembly_input_association_data_object_id_data_object"),
        "metagenome_assembly_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_metagenome_assembly_input_association_metagenome_assembly_id_metagenome_assembly"),
        "metagenome_assembly_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metagenome_assembly_input_association_data_object_id_3f50",
        "metagenome_assembly_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_metagenome_assembly_input_association_metagenome_ass_82ac",
        "metagenome_assembly_input_association",
        "metagenome_assembly",
        ["metagenome_assembly_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_metagenome_assembly_omics_processing_id_omics_processing"),
        "metagenome_assembly",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metagenome_assembly_omics_processing_id_omics_processing",
        "metagenome_assembly",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_metagenome_annotation_output_association_data_object_id_data_object"),
        "metagenome_annotation_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f(
            "fk_metagenome_annotation_output_association_metagenome_annotation_id_metagenome_annotation"
        ),
        "metagenome_annotation_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metagenome_annotation_output_association_metagenome__9916",
        "metagenome_annotation_output_association",
        "metagenome_annotation",
        ["metagenome_annotation_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_metagenome_annotation_output_association_data_object_6294",
        "metagenome_annotation_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f(
            "fk_metagenome_annotation_input_association_metagenome_annotation_id_metagenome_annotation"
        ),
        "metagenome_annotation_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_metagenome_annotation_input_association_data_object_id_data_object"),
        "metagenome_annotation_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metagenome_annotation_input_association_metagenome_a_a168",
        "metagenome_annotation_input_association",
        "metagenome_annotation",
        ["metagenome_annotation_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_metagenome_annotation_input_association_data_object__3b88",
        "metagenome_annotation_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_metagenome_annotation_omics_processing_id_omics_processing"),
        "metagenome_annotation",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metagenome_annotation_omics_processing_id_omics_processing",
        "metagenome_annotation",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_metabolomics_analysis_output_association_data_object_id_data_object"),
        "metabolomics_analysis_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f(
            "fk_metabolomics_analysis_output_association_metabolomics_analysis_id_metabolomics_analysis"
        ),
        "metabolomics_analysis_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metabolomics_analysis_output_association_metabolomic_a476",
        "metabolomics_analysis_output_association",
        "metabolomics_analysis",
        ["metabolomics_analysis_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_metabolomics_analysis_output_association_data_object_a03e",
        "metabolomics_analysis_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f(
            "fk_metabolomics_analysis_input_association_metabolomics_analysis_id_metabolomics_analysis"
        ),
        "metabolomics_analysis_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_metabolomics_analysis_input_association_data_object_id_data_object"),
        "metabolomics_analysis_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metabolomics_analysis_input_association_metabolomics_bdf3",
        "metabolomics_analysis_input_association",
        "metabolomics_analysis",
        ["metabolomics_analysis_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_metabolomics_analysis_input_association_data_object__b36a",
        "metabolomics_analysis_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_metabolomics_analysis_omics_processing_id_omics_processing"),
        "metabolomics_analysis",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_metabolomics_analysis_omics_processing_id_omics_processing",
        "metabolomics_analysis",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_mags_analysis_output_association_mags_analysis_id_mags_analysis"),
        "mags_analysis_output_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_mags_analysis_output_association_data_object_id_data_object"),
        "mags_analysis_output_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_mags_analysis_output_association_data_object_id_data_object",
        "mags_analysis_output_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_mags_analysis_output_association_mags_analysis_id_ma_f8cb",
        "mags_analysis_output_association",
        "mags_analysis",
        ["mags_analysis_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_mags_analysis_input_association_mags_analysis_id_mags_analysis"),
        "mags_analysis_input_association",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_mags_analysis_input_association_data_object_id_data_object"),
        "mags_analysis_input_association",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_mags_analysis_input_association_data_object_id_data_object",
        "mags_analysis_input_association",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_mags_analysis_input_association_mags_analysis_id_mag_7892",
        "mags_analysis_input_association",
        "mags_analysis",
        ["mags_analysis_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_mags_analysis_omics_processing_id_omics_processing"),
        "mags_analysis",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_mags_analysis_omics_processing_id_omics_processing",
        "mags_analysis",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
    )
    op.drop_constraint(op.f("fk_mag_mags_analysis_id_mags_analysis"), "mag", type_="foreignkey")
    op.create_foreign_key(
        "fk_mag_mags_analysis_id_mags_analysis",
        "mag",
        "mags_analysis",
        ["mags_analysis_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_file_download_data_object_id_data_object"), "file_download", type_="foreignkey"
    )
    op.create_foreign_key(
        "fk_file_download_data_object_id_data_object",
        "file_download",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_envo_ancestor_ancestor_id_envo_term"), "envo_ancestor", type_="foreignkey"
    )
    op.drop_constraint(op.f("fk_envo_ancestor_id_envo_term"), "envo_ancestor", type_="foreignkey")
    op.create_foreign_key(
        "fk_envo_ancestor_ancestor_id_envo_term",
        "envo_ancestor",
        "envo_term",
        ["ancestor_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_envo_ancestor_id_envo_term", "envo_ancestor", "envo_term", ["id"], ["id"]
    )
    op.drop_constraint(op.f("uq_envo_ancestor_id"), "envo_ancestor", type_="unique")
    op.drop_constraint(
        op.f("fk_data_object_omics_processing_id_omics_processing"),
        "data_object",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_data_object_omics_processing_id_omics_processing",
        "data_object",
        "omics_processing",
        ["omics_processing_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_bulk_download_data_object_data_object_id_data_object"),
        "bulk_download_data_object",
        type_="foreignkey",
    )
    op.drop_constraint(
        op.f("fk_bulk_download_data_object_bulk_download_id_bulk_download"),
        "bulk_download_data_object",
        type_="foreignkey",
    )
    op.create_foreign_key(
        "fk_bulk_download_data_object_bulk_download_id_bulk_download",
        "bulk_download_data_object",
        "bulk_download",
        ["bulk_download_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_bulk_download_data_object_data_object_id_data_object",
        "bulk_download_data_object",
        "data_object",
        ["data_object_id"],
        ["id"],
    )
    op.drop_constraint(
        op.f("fk_biosample_env_local_scale_id_envo_term"), "biosample", type_="foreignkey"
    )
    op.drop_constraint(
        op.f("fk_biosample_env_broad_scale_id_envo_term"), "biosample", type_="foreignkey"
    )
    op.drop_constraint(op.f("fk_biosample_study_id_study"), "biosample", type_="foreignkey")
    op.drop_constraint(
        op.f("fk_biosample_env_medium_id_envo_term"), "biosample", type_="foreignkey"
    )
    op.create_foreign_key("fk_biosample_study_id_study", "biosample", "study", ["study_id"], ["id"])
    op.create_foreign_key(
        "fk_biosample_env_broad_scale_id_envo_term",
        "biosample",
        "envo_term",
        ["env_broad_scale_id"],
        ["id"],
    )
    op.create_foreign_key(
        "fk_biosample_env_medium_id_envo_term", "biosample", "envo_term", ["env_medium_id"], ["id"]
    )
    op.create_foreign_key(
        "fk_biosample_env_local_scale_id_envo_term",
        "biosample",
        "envo_term",
        ["env_local_scale_id"],
        ["id"],
    )
    # ### end Alembic commands ###
